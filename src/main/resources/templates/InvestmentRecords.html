<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Investment Record</title>
    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
</head>
<body class="container">
<h1>Savings Investment Record</h1>
<div th:if="${errorMessage}" class="alert alert-danger" id="errorAlert" >
    <p th:text="${errorMessage}" ></p>
</div>
<table class="table table-striped">
    <thead>
    <tr>
        <th>Customer number</th>
        <th>Customer Name</th>
        <th>Customer Deposit</th>
        <th>Number of years</th>
        <th>Savings Type</th>
        <th colspan="3"> Actions </th>
    </tr>
    </thead>
    <tbody>
       <!--where the data && buttons will go-->
    <tr th:each="rec: ${records}">
        <td th:text="${rec.customerNumber}"></td>
        <td th:text="${rec.customerName}"></td>
        <td th:text="${rec.customerDeposit}"></td>
        <td th:text="${rec.numberOfYears}"></td>
        <td th:text="${rec.savingsType}"></td>
        <!--add more for more columns in the table from the model-->
        <td>
            <a class="btn btn-primary" th:href="@{'/editRoute/' + ${rec.id}}">Edit</a>
            <form th:action="@{'/deleteRecord/' +${rec.id}}" method="post"
                  onclick="return confirm('Are you sure you want to Delete this record??');"
                  style="display:inline;">
                <button class="btn btn-danger"
                >
                    Delete</button>
            </form>
<!--            <a class="btn btn-danger" th:href="@{'/deleteRecord/' +${rec.id}}"-->
<!--               onclick="return confirm('Are you sure you want to Delete this record??');">-->
<!--                Delete</a>--> <!--if you want to use this, change delete method to a Get method-->
            <a class="btn btn-primary" th:href="@{'/openProjection/'+${rec.id}}">Projected Investment</a>

        </td>

    </tr>
    </tbody>

</table>
<a class="btn btn-success" th:href="@{/addRoute}" >Add</a>

<script>
    setTimeout(() => document.getElementById("errorAlert")?.remove(), 3000);
</script>
</body>
</html>